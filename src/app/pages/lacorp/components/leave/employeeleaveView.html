<div class="widgets">
  <div class="row">
      <ba-card   *ngIf="corpEmployeeLeave" class="col-lg-12 col-sm-12 col-12">
          <div class="row" >
            <div class="col-sm-6">
              <div class="form-group">
                <label>单据类型</label>
                {{corpEmployeeLeave.invoiceTypeStr}}
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label>单据编号</label>
                {{corpEmployeeLeave.invoiceCode}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
                <label  class=" control-label">员工编号</label>
                <div class="input-group">
                  {{corpEmployeeLeave.employee.code}}
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <label  class=" control-label">离职日期</label>
                <div class="input-group">
                  {{corpEmployeeLeave.leavedDate}}
                </div>
              </div>
            </div>
          </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label  class=" control-label">姓名</label>
              <div class="input-group">
                {{corpEmployeeLeave.employee.user.realName}}
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label  class=" control-label">手机号码</label>
              <div class="input-group">
                {{corpEmployeeLeave.employee.user.mobile}}
              </div>
            </div>
          </div>
        </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label  class="control-label">核算工资开始日期</label>
                  <div class="input-group">
                    {{corpEmployeeLeave.calcStart}}
                  </div>
                </div>
              </div>

              <div class="col-sm-6">
                <div class="form-group">
                  <label  class=" control-label">核算工资结束日期</label>
                  <div class="input-group">
                    {{corpEmployeeLeave.calcEnd}}
                  </div>
                </div>
              </div>
            </div>
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <label for="idComment">离职原因</label>
                {{corpEmployeeLeave.leavedReason}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="offset-5">
              <button type="button" *ngIf="!corpEmployeeLeave.statusCalc" (click)="toCalcSalary()"  class="btn btn-warning" >计算工资</button>
              <button type="button" *ngIf="!corpEmployeeLeave.statusCalc" (click)="toCalcWorkTime()" class="btn btn-warning">统计工时</button>
              <button type="button" *ngIf="corpEmployeeLeave.status == 1 && corpEmployeeLeave.statusCalc" (click)="toPay()"  class="btn btn-warning" >放款</button>
              <button type="button" (click)="toBack()"  class="btn btn-warning" >返回</button>
            </div>
          </div>
      </ba-card>
   </div>
  <div>
    <div class="col-lg-12 col-sm-12 col-12" *ngIf="corpEmployeeLeave">
      <ngb-tabset>
        <ngb-tab title="计算工资列表">
          <ng-template ngbTabContent>
            <div class="col-lg-12 col-sm-12 col-12">
              <ngx-datatable
                class="material"
                [columnMode]="'force'"
                [headerHeight]="50"
                [footerHeight]="50"
                [rowHeight]="'auto'"
                [rows]="rows"
                [externalPaging]="true"
                [count]="pageNav.totalElements"
                [offset]="pageNav.page"
                [limit]="pageNav.itemsPerPage"
                (page)='setPage($event)'
                [scrollbarH]="true">
                <ngx-datatable-column
                  name="id" [width]="30" prop="id">
                </ngx-datatable-column>
                <ngx-datatable-column
                  name="月份"
                  [width]="150"
                  prop="month">
                </ngx-datatable-column>
                <ngx-datatable-column
                  name="员工编号"
                  [width]="200"
                  prop="corpEmployee.code">
                </ngx-datatable-column>
                <ngx-datatable-column
                  name="用户名"
                  [width]="100"
                  prop="corpEmployee.user.realName">
                </ngx-datatable-column>
                <ngx-datatable-column
                  name="手机号码"
                  [width]="100"
                  prop="corpEmployee.user.mobile">
                </ngx-datatable-column>

                <ngx-datatable-column
                  name="工资金额"
                  [width]="100"
                  prop="amount">
                </ngx-datatable-column>
                <ngx-datatable-column name="操作" [width]="100" [flexGrow]="1" [flexGrow]="1" prop="id">
                  <ng-template let-value="value" ngx-datatable-cell-template>
                    <button (click)="toViewItem(value)" class="btn btn-warning">查看明细</button>
                  </ng-template>
                </ngx-datatable-column>
              </ngx-datatable>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="考勤汇总">
          <ng-template ngbTabContent>
            <div class="row">
              <div class="col-md-12">
                <la-employee-workmonth [employeeCode]="corpEmployeeLeave.employee.code" [dispatchedCorpId]="corpEmployeeLeave.dispatchedCorpId" [month]="''"></la-employee-workmonth>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="预支工资">
          <ng-template ngbTabContent>
            <ba-card baCardClass="card-body-no-padding">
              <div class="row">
                <div class="col-md-12">
                  <la-modal-user-borrow [userId]="corpEmployeeLeave.employee.user.id" [dispatchedCorpId]="corpEmployeeLeave.dispatchedCorpId" [status]="''"></la-modal-user-borrow>
                </div>
              </div>
            </ba-card>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="押金列表">
          <ng-template ngbTabContent>
            <ba-card baCardClass="card-body-no-padding">
              <div class="row">
                <div class="col-md-12">
                  <la-user-deposit-modal [userId]="corpEmployeeLeave.employee.user.id" [dispatchedCorpId]="corpEmployeeLeave.dispatchedCorpId" ></la-user-deposit-modal>
                </div>
              </div>
            </ba-card>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </div>
  </div>
